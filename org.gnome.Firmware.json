{
  "app-id": "org.gnome.Firmware",
  "sdk": "org.gnome.Sdk",
  "runtime": "org.gnome.Platform",
  "runtime-version": "3.34",
  "command": "gnome-firmware",
  "finish-args": [
    "--share=ipc",
    "--socket=wayland",
    "--socket=x11",
    "--system-talk-name=org.freedesktop.fwupd"
  ],
  "cleanup": [
    "/include",
    "/lib/pkgconfig",
    "/share/man"
  ],
  "modules": [
    {
      "name": "libxmlb",
      "buildsystem": "meson",
      "config-opts": [
        "-Dintrospection=false",
        "-Dgtkdoc=false",
        "-Dtests=false",
        "-Dstemmer=false",
        "--sysconfdir=/app/etc",
        "--localstatedir=/var/data"
      ],
      "cleanup": [
        "/libexec/xb-tool"
      ],
      "sources": [
        {
          "type": "archive",
          "url": "https://people.freedesktop.org/~hughsient/releases/libxmlb-0.1.11.tar.xz",
          "sha256": "2c0f7e235ccc9f946430ee3dab7214d957a07334f159c7aa6421b24792b5a7f7"
        }
      ]
    },
    {
      "name": "fwupd",
      "buildsystem": "meson",
      "config-opts": [
        "-Dbuild=library",
        "-Dintrospection=false",
        "-Dtests=false"
      ],
      "sources": [
          {
              "type": "archive",
              "url": "https://people.freedesktop.org/~hughsient/releases/fwupd-1.3.1.tar.xz",
              "sha256": "6fcb6773a2e1fe12bd7aa86aebcfd2cb6a877f7400590abaad8347cc881f7aa0"
          }
      ]
    },
    {
      "name": "gnome-firmware",
      "buildsystem": "meson",
      "config-opts": [
        "-Dman=false"
      ],
      "sources": [
        {
          "type": "archive",
          "url": "https://people.freedesktop.org/~hughsient/releases/gnome-firmware-3.34.0.tar.xz",
          "sha256": "bd33a3db43b6e5ab873cbbe304ac60e6fb4f56c9a6b1135a90561c51dfaed668"
        },
        {
            "type": "patch",
            "path": "0001-Update-the-AppData-file-to-pass-validation.patch"
        }
      ]
    }
  ]
}
